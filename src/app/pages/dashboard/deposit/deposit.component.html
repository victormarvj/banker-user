@if(isLoading) {
<div class="spinner">
  <img
    src="img/spinner.png"
    class="rotating-img"
    style="width: 50px; height: 50px"
    alt=""
  />
</div>
}

<div class="container-fluid">
  <div class="row">
    <!-- <div class="col-12">
      <mat-progress-bar mode="buffer" class="mb-3"></mat-progress-bar>
    </div> -->
    <div class="col-12">
      <div class="row">
        @for (method of methods; track $index) {
        <div class="col-12 col-md-6 col-lg-3 mt-2">
          <mat-card
            class="example-card p-2 cursor-pointer"
            appearance="outlined"
            (click)="openModal(method.id)"
          >
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title class="text-center">{{
                method?.name
              }}</mat-card-title>
              <mat-card-subtitle class="text-center">{{
                method?.abbreviation
              }}</mat-card-subtitle>
            </mat-card-header>
            <img
              mat-card-image
              src="{{ apiRootUrl + method?.image || 'img/avatar.png' }}"
              alt="Photo of {{ method?.name }}"
              class="img"
            />
          </mat-card>
        </div>
        }
      </div>
    </div>
  </div>
</div>

@if (showModal) {
<app-deposit-modal
  [method_id]="method_id"
  (modalClosed)="closeModal()"
></app-deposit-modal>
}
